<!-- BotÃ³n Flotante -->
<button class="chat-fab" [class.open]="isOpen" (click)="toggleChat()">
    <span *ngIf="!isOpen">ðŸ’¬</span>
    <span *ngIf="isOpen">âœ•</span>
</button>

<!-- Ventana de Chat -->
<div class="chat-window" *ngIf="isOpen">
    <div class="chat-header">
        <div class="bot-avatar">ðŸ¤–</div>
        <span>Asistente HR</span>
    </div>

    <div class="chat-messages" #scrollContainer>
        <div *ngFor="let msg of messages$ | async" class="message" [ngClass]="msg.sender">
            {{ msg.text }}
        </div>
    </div>

    <div class="chat-input-area">
        <input type="text" [(ngModel)]="userInput" (keyup.enter)="sendMessage()" placeholder="Escribe o habla...">

        <button class="btn-icon" [class.listening]="isListening$ | async" (click)="toggleVoice()" title="Usar Voz">
            ðŸŽ¤
        </button>

        <button class="btn-icon" (click)="sendMessage()" title="Enviar">
            âž¤
        </button>
    </div>
</div>